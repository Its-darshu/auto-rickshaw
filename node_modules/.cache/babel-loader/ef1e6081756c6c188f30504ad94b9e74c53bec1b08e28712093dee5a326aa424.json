{"ast":null,"code":"import React,{useState}from'react';import{MapPin}from'lucide-react';import{useLanguage}from'../context/LanguageContext';import{useData}from'../context/DataContext';import SearchBar from'../components/SearchBar';import StageList from'../components/StageList';import DriverCard from'../components/DriverCard';import MapView from'../components/MapView';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const HomePage=()=>{const{t}=useLanguage();const{stages,searchDrivers}=useData();const[searchResults,setSearchResults]=useState([]);const[isSearching,setIsSearching]=useState(false);const handleSearch=query=>{if(query.trim()){setIsSearching(true);const results=searchDrivers(query);setSearchResults(results);}else{setIsSearching(false);setSearchResults([]);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"homepage\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"App-title\",children:t('villageAutoConnect')}),/*#__PURE__*/_jsx(\"p\",{className:\"App-subtitle\",children:t('findAutoInstantly')})]}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"search-section\",children:/*#__PURE__*/_jsx(SearchBar,{onSearch:handleSearch})}),isSearching&&/*#__PURE__*/_jsxs(\"section\",{className:\"search-results\",children:[/*#__PURE__*/_jsx(\"h2\",{children:t('searchResults')}),searchResults.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"drivers-grid\",children:searchResults.map(driver=>{const stage=stages.find(s=>s.id===driver.stageId);return/*#__PURE__*/_jsx(DriverCard,{driver:driver,stage:stage,showStage:true},driver.id);})}):/*#__PURE__*/_jsx(\"p\",{className:\"no-results\",children:t('noDriversFound')})]}),!isSearching&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"stages-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:t('selectStage')}),/*#__PURE__*/_jsx(StageList,{})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"map-section\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(MapPin,{size:20}),\"Village Map\"]}),/*#__PURE__*/_jsx(MapView,{stages:stages})]})]})]})})]});};export default HomePage;","map":{"version":3,"names":["React","useState","MapPin","useLanguage","useData","SearchBar","StageList","DriverCard","MapView","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","HomePage","t","stages","searchDrivers","searchResults","setSearchResults","isSearching","setIsSearching","handleSearch","query","trim","results","className","children","onSearch","length","map","driver","stage","find","s","id","stageId","showStage","size"],"sources":["D:/proj/auto-rickshaw/src/pages/HomePage.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { MapPin } from 'lucide-react';\r\nimport { useLanguage } from '../context/LanguageContext';\r\nimport { useData } from '../context/DataContext';\r\nimport SearchBar from '../components/SearchBar';\r\nimport StageList from '../components/StageList';\r\nimport DriverCard from '../components/DriverCard';\r\nimport MapView from '../components/MapView';\r\n\r\nconst HomePage: React.FC = () => {\r\n  const { t } = useLanguage();\r\n  const { stages, searchDrivers } = useData();\r\n  const [searchResults, setSearchResults] = useState<any[]>([]);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  \r\n  const handleSearch = (query: string) => {\r\n    if (query.trim()) {\r\n      setIsSearching(true);\r\n      const results = searchDrivers(query);\r\n      setSearchResults(results);\r\n    } else {\r\n      setIsSearching(false);\r\n      setSearchResults([]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"homepage\">\r\n      <header className=\"App-header\">\r\n        <h1 className=\"App-title\">{t('villageAutoConnect')}</h1>\r\n        <p className=\"App-subtitle\">{t('findAutoInstantly')}</p>\r\n      </header>\r\n\r\n      <main className=\"main-content\">\r\n        <div className=\"container\">\r\n          {/* Search Section */}\r\n          <section className=\"search-section\">\r\n            <SearchBar onSearch={handleSearch} />\r\n          </section>\r\n\r\n          {/* Search Results */}\r\n          {isSearching && (\r\n            <section className=\"search-results\">\r\n              <h2>{t('searchResults')}</h2>\r\n              {searchResults.length > 0 ? (\r\n                <div className=\"drivers-grid\">\r\n                  {searchResults.map((driver) => {\r\n                    const stage = stages.find(s => s.id === driver.stageId);\r\n                    return (\r\n                      <DriverCard \r\n                        key={driver.id} \r\n                        driver={driver} \r\n                        stage={stage}\r\n                        showStage={true}\r\n                      />\r\n                    );\r\n                  })}\r\n                </div>\r\n              ) : (\r\n                <p className=\"no-results\">{t('noDriversFound')}</p>\r\n              )}\r\n            </section>\r\n          )}\r\n\r\n          {!isSearching && (\r\n            <>\r\n              {/* Stages Section */}\r\n              <section className=\"stages-section\">\r\n                <h2>{t('selectStage')}</h2>\r\n                <StageList />\r\n              </section>\r\n\r\n              {/* Map Section */}\r\n              <section className=\"map-section\">\r\n                <h2>\r\n                  <MapPin size={20} />\r\n                  Village Map\r\n                </h2>\r\n                <MapView stages={stages} />\r\n              </section>\r\n            </>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}