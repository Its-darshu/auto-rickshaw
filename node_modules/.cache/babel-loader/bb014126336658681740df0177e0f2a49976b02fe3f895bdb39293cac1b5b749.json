{"ast":null,"code":"import _objectSpread from\"D:/proj/auto-rickshaw/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Link}from'react-router-dom';import{ArrowLeft,Plus,Edit3,Trash2,Users,MapPin,LogOut}from'lucide-react';import{useLanguage}from'../context/LanguageContext';import{useData}from'../context/DataContext';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminPage=()=>{const{t}=useLanguage();const{drivers,stages,loading:dataLoading,addDriver,updateDriver,deleteDriver,addStage,updateStage,deleteStage,initializeSampleData}=useData();const{currentUser,isAdmin,signInWithGoogle,logout}=useAuth();const[activeTab,setActiveTab]=useState('drivers');const[showAddForm,setShowAddForm]=useState(false);const[editingItem,setEditingItem]=useState(null);const[isSubmitting,setIsSubmitting]=useState(false);// Login state\nconst[loginError,setLoginError]=useState('');// Driver form state\nconst[driverForm,setDriverForm]=useState({name:'',phoneNumber:'',vehicleNumber:'',stageId:'',isEmergency:false,whatsappNumber:''});// Stage form state\nconst[stageForm,setStageForm]=useState({name:'',nameKn:'',latitude:'',longitude:''});const handleGoogleSignIn=async()=>{try{setLoginError('');await signInWithGoogle();}catch(error){setLoginError(error.message||'Failed to sign in with Google');}};const handleLogout=async()=>{try{await logout();}catch(error){console.error('Logout error:',error);}};const resetDriverForm=()=>{setDriverForm({name:'',phoneNumber:'',vehicleNumber:'',stageId:'',isEmergency:false,whatsappNumber:''});};const resetStageForm=()=>{setStageForm({name:'',nameKn:'',latitude:'',longitude:''});};const handleAddDriver=async e=>{e.preventDefault();if(driverForm.name&&driverForm.phoneNumber&&driverForm.vehicleNumber&&driverForm.stageId){setIsSubmitting(true);try{await addDriver(_objectSpread(_objectSpread({},driverForm),{},{whatsappNumber:driverForm.whatsappNumber||undefined}));resetDriverForm();setShowAddForm(false);}catch(error){console.error('Error adding driver:',error);alert('Failed to add driver. Please try again.');}finally{setIsSubmitting(false);}}};const handleEditDriver=driver=>{setEditingItem(driver);setDriverForm({name:driver.name,phoneNumber:driver.phoneNumber,vehicleNumber:driver.vehicleNumber,stageId:driver.stageId,isEmergency:driver.isEmergency,whatsappNumber:driver.whatsappNumber||''});setShowAddForm(true);};const handleUpdateDriver=async e=>{e.preventDefault();if(editingItem&&'vehicleNumber'in editingItem){setIsSubmitting(true);try{await updateDriver(editingItem.id,_objectSpread(_objectSpread({},driverForm),{},{whatsappNumber:driverForm.whatsappNumber||undefined}));resetDriverForm();setShowAddForm(false);setEditingItem(null);}catch(error){console.error('Error updating driver:',error);alert('Failed to update driver. Please try again.');}finally{setIsSubmitting(false);}}};const handleAddStage=async e=>{e.preventDefault();if(stageForm.name&&stageForm.nameKn){setIsSubmitting(true);try{await addStage(_objectSpread(_objectSpread({},stageForm),{},{latitude:stageForm.latitude?parseFloat(stageForm.latitude):undefined,longitude:stageForm.longitude?parseFloat(stageForm.longitude):undefined}));resetStageForm();setShowAddForm(false);}catch(error){console.error('Error adding stage:',error);alert('Failed to add stage. Please try again.');}finally{setIsSubmitting(false);}}};const handleEditStage=stage=>{var _stage$latitude,_stage$longitude;setEditingItem(stage);setStageForm({name:stage.name,nameKn:stage.nameKn,latitude:((_stage$latitude=stage.latitude)===null||_stage$latitude===void 0?void 0:_stage$latitude.toString())||'',longitude:((_stage$longitude=stage.longitude)===null||_stage$longitude===void 0?void 0:_stage$longitude.toString())||''});setShowAddForm(true);};const handleUpdateStage=async e=>{e.preventDefault();if(editingItem&&'nameKn'in editingItem){setIsSubmitting(true);try{await updateStage(editingItem.id,_objectSpread(_objectSpread({},stageForm),{},{latitude:stageForm.latitude?parseFloat(stageForm.latitude):undefined,longitude:stageForm.longitude?parseFloat(stageForm.longitude):undefined}));resetStageForm();setShowAddForm(false);setEditingItem(null);}catch(error){console.error('Error updating stage:',error);alert('Failed to update stage. Please try again.');}finally{setIsSubmitting(false);}}};// Debug information\nconsole.log('AdminPage - currentUser:',currentUser===null||currentUser===void 0?void 0:currentUser.email);console.log('AdminPage - isAdmin:',isAdmin);console.log('AdminPage - drivers count:',drivers.length);console.log('AdminPage - stages count:',stages.length);if(!currentUser||!isAdmin){return/*#__PURE__*/_jsx(\"div\",{className:\"admin-login\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"google-icon\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"32\",height:\"32\",viewBox:\"0 0 48 48\",children:[/*#__PURE__*/_jsx(\"path\",{fill:\"#EA4335\",d:\"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#4285F4\",d:\"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#FBBC05\",d:\"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#34A853\",d:\"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z\"})]})}),/*#__PURE__*/_jsx(\"h1\",{children:t('adminLogin')}),/*#__PURE__*/_jsx(\"p\",{className:\"login-subtitle\",children:\"Authorized administrators only\"})]}),loginError&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:loginError}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleGoogleSignIn,className:\"btn btn-google\",children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 48 48\",style:{marginRight:'12px'},children:[/*#__PURE__*/_jsx(\"path\",{fill:\"#EA4335\",d:\"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#4285F4\",d:\"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#FBBC05\",d:\"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#34A853\",d:\"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z\"})]}),\"Sign in with Google\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"login-info\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Only authorized Google accounts can access the admin panel.\"})})]}),/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"back-to-home\",children:[/*#__PURE__*/_jsx(ArrowLeft,{size:16}),\"Back to Home\"]})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-page\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"admin-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"back-btn\",children:/*#__PURE__*/_jsx(ArrowLeft,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-title\",children:[/*#__PURE__*/_jsx(\"h1\",{children:t('dashboard')}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-user-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:(currentUser===null||currentUser===void 0?void 0:currentUser.photoURL)||'',alt:\"Admin\",className:\"admin-avatar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"admin-email\",children:currentUser===null||currentUser===void 0?void 0:currentUser.email}),/*#__PURE__*/_jsxs(\"button\",{className:\"admin-logout-button\",onClick:handleLogout,title:\"Logout\",children:[/*#__PURE__*/_jsx(LogOut,{size:16}),\"Logout\"]})]})]})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"admin-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-tabs\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"tab-btn \".concat(activeTab==='drivers'?'active':''),onClick:()=>setActiveTab('drivers'),children:[/*#__PURE__*/_jsx(Users,{size:20}),t('manageDrivers'),\" (\",drivers.length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"tab-btn \".concat(activeTab==='stages'?'active':''),onClick:()=>setActiveTab('stages'),children:[/*#__PURE__*/_jsx(MapPin,{size:20}),t('manageStages'),\" (\",stages.length,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary add-btn\",onClick:()=>{setShowAddForm(true);setEditingItem(null);if(activeTab==='drivers')resetDriverForm();else resetStageForm();},children:[/*#__PURE__*/_jsx(Plus,{size:18}),activeTab==='drivers'?t('addDriver'):t('addStage')]}),drivers.length===0&&stages.length===0&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:async()=>{if(window.confirm('Initialize with sample data? This will add demo drivers and stages.')){try{await initializeSampleData();}catch(error){console.error('Error initializing sample data:',error);alert('Failed to initialize sample data. Please try again.');}}},children:\"Initialize Sample Data\"})]}),activeTab==='drivers'&&/*#__PURE__*/_jsx(\"div\",{className:\"drivers-admin\",children:drivers.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Users,{size:48}),/*#__PURE__*/_jsx(\"h3\",{children:\"No Drivers Yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Click \\\"Add Driver\\\" to start adding auto-rickshaw drivers to your system.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"admin-grid\",children:drivers.map(driver=>{const stage=stages.find(s=>s.id===driver.stageId);return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:driver.name}),driver.isEmergency&&/*#__PURE__*/_jsx(\"span\",{className:\"emergency-badge\",children:\"Emergency\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" \",driver.phoneNumber]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Vehicle:\"}),\" \",driver.vehicleNumber]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Stage:\"}),\" \",(stage===null||stage===void 0?void 0:stage.name)||'Unknown']}),driver.whatsappNumber&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"WhatsApp:\"}),\" \",driver.whatsappNumber]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon edit\",onClick:()=>handleEditDriver(driver),title:\"Edit Driver\",children:/*#__PURE__*/_jsx(Edit3,{size:16})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon delete\",onClick:async()=>{if(window.confirm('Delete this driver?')){try{await deleteDriver(driver.id);}catch(error){console.error('Error deleting driver:',error);alert('Failed to delete driver. Please try again.');}}},title:\"Delete Driver\",children:/*#__PURE__*/_jsx(Trash2,{size:16})})]})]},driver.id);})})}),activeTab==='stages'&&/*#__PURE__*/_jsx(\"div\",{className:\"stages-admin\",children:stages.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(MapPin,{size:48}),/*#__PURE__*/_jsx(\"h3\",{children:\"No Stages Yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Click \\\"Add Stage\\\" to start adding auto-rickshaw stages to your system.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"admin-grid\",children:stages.map(stage=>{const driverCount=drivers.filter(d=>d.stageId===stage.id).length;return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stage.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"driver-count\",children:[driverCount,\" drivers\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Kannada:\"}),\" \",stage.nameKn]}),stage.latitude&&stage.longitude&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Coordinates:\"}),\" \",stage.latitude,\", \",stage.longitude]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon edit\",onClick:()=>handleEditStage(stage),title:\"Edit Stage\",children:/*#__PURE__*/_jsx(Edit3,{size:16})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon delete\",onClick:async()=>{if(window.confirm('Delete this stage and all its drivers?')){try{await deleteStage(stage.id);}catch(error){console.error('Error deleting stage:',error);alert('Failed to delete stage. Please try again.');}}},title:\"Delete Stage\",children:/*#__PURE__*/_jsx(Trash2,{size:16})})]})]},stage.id);})})}),showAddForm&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[editingItem?'Edit':'Add',\" \",activeTab==='drivers'?'Driver':'Stage']}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>{setShowAddForm(false);setEditingItem(null);},children:\"\\xD7\"})]}),activeTab==='drivers'?/*#__PURE__*/_jsxs(\"form\",{onSubmit:editingItem?handleUpdateDriver:handleAddDriver,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Driver Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:driverForm.name,onChange:e=>setDriverForm(_objectSpread(_objectSpread({},driverForm),{},{name:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone Number *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:driverForm.phoneNumber,onChange:e=>setDriverForm(_objectSpread(_objectSpread({},driverForm),{},{phoneNumber:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"WhatsApp Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:driverForm.whatsappNumber,onChange:e=>setDriverForm(_objectSpread(_objectSpread({},driverForm),{},{whatsappNumber:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Vehicle Number *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:driverForm.vehicleNumber,onChange:e=>setDriverForm(_objectSpread(_objectSpread({},driverForm),{},{vehicleNumber:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Stage *\"}),/*#__PURE__*/_jsxs(\"select\",{value:driverForm.stageId,onChange:e=>setDriverForm(_objectSpread(_objectSpread({},driverForm),{},{stageId:e.target.value})),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Stage\"}),stages.map(stage=>/*#__PURE__*/_jsx(\"option\",{value:stage.id,children:stage.name},stage.id))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group checkbox-group\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:driverForm.isEmergency,onChange:e=>setDriverForm(_objectSpread(_objectSpread({},driverForm),{},{isEmergency:e.target.checked}))}),\"Emergency Driver (Available 24/7)\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:isSubmitting,children:isSubmitting?'Saving...':\"\".concat(editingItem?'Update':'Add',\" Driver\")}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>{setShowAddForm(false);setEditingItem(null);},disabled:isSubmitting,children:\"Cancel\"})]})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:editingItem?handleUpdateStage:handleAddStage,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Stage Name (English) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:stageForm.name,onChange:e=>setStageForm(_objectSpread(_objectSpread({},stageForm),{},{name:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Stage Name (Kannada) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:stageForm.nameKn,onChange:e=>setStageForm(_objectSpread(_objectSpread({},stageForm),{},{nameKn:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Latitude (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"any\",value:stageForm.latitude,onChange:e=>setStageForm(_objectSpread(_objectSpread({},stageForm),{},{latitude:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Longitude (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"any\",value:stageForm.longitude,onChange:e=>setStageForm(_objectSpread(_objectSpread({},stageForm),{},{longitude:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:isSubmitting,children:isSubmitting?'Saving...':\"\".concat(editingItem?'Update':'Add',\" Stage\")}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>{setShowAddForm(false);setEditingItem(null);},disabled:isSubmitting,children:\"Cancel\"})]})]})]})})]})})]});};export default AdminPage;","map":{"version":3,"names":["React","useState","Link","ArrowLeft","Plus","Edit3","Trash2","Users","MapPin","LogOut","useLanguage","useData","useAuth","jsx","_jsx","jsxs","_jsxs","AdminPage","t","drivers","stages","loading","dataLoading","addDriver","updateDriver","deleteDriver","addStage","updateStage","deleteStage","initializeSampleData","currentUser","isAdmin","signInWithGoogle","logout","activeTab","setActiveTab","showAddForm","setShowAddForm","editingItem","setEditingItem","isSubmitting","setIsSubmitting","loginError","setLoginError","driverForm","setDriverForm","name","phoneNumber","vehicleNumber","stageId","isEmergency","whatsappNumber","stageForm","setStageForm","nameKn","latitude","longitude","handleGoogleSignIn","error","message","handleLogout","console","resetDriverForm","resetStageForm","handleAddDriver","e","preventDefault","_objectSpread","undefined","alert","handleEditDriver","driver","handleUpdateDriver","id","handleAddStage","parseFloat","handleEditStage","stage","_stage$latitude","_stage$longitude","toString","handleUpdateStage","log","email","length","className","children","width","height","viewBox","fill","d","onClick","style","marginRight","to","size","src","photoURL","alt","title","concat","window","confirm","map","find","s","driverCount","filter","onSubmit","type","value","onChange","target","required","checked","disabled","step"],"sources":["D:/proj/auto-rickshaw/src/pages/AdminPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ArrowLeft, Plus, Edit3, Trash2, Users, MapPin, LogOut } from 'lucide-react';\r\nimport { useLanguage } from '../context/LanguageContext';\r\nimport { useData } from '../context/DataContext';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { Driver, Stage } from '../context/DataContext';\r\n\r\nconst AdminPage: React.FC = () => {\r\n  const { t } = useLanguage();\r\n  const { \r\n    drivers, \r\n    stages, \r\n    loading: dataLoading,\r\n    addDriver, \r\n    updateDriver, \r\n    deleteDriver, \r\n    addStage, \r\n    updateStage, \r\n    deleteStage,\r\n    initializeSampleData\r\n  } = useData();\r\n\r\n  const { currentUser, isAdmin, signInWithGoogle, logout } = useAuth();\r\n  const [activeTab, setActiveTab] = useState<'drivers' | 'stages'>('drivers');\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [editingItem, setEditingItem] = useState<Driver | Stage | null>(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  \r\n  // Login state\r\n  const [loginError, setLoginError] = useState('');\r\n  \r\n  // Driver form state\r\n  const [driverForm, setDriverForm] = useState({\r\n    name: '',\r\n    phoneNumber: '',\r\n    vehicleNumber: '',\r\n    stageId: '',\r\n    isEmergency: false,\r\n    whatsappNumber: ''\r\n  });\r\n  \r\n  // Stage form state\r\n  const [stageForm, setStageForm] = useState({\r\n    name: '',\r\n    nameKn: '',\r\n    latitude: '',\r\n    longitude: ''\r\n  });\r\n\r\n  const handleGoogleSignIn = async () => {\r\n    try {\r\n      setLoginError('');\r\n      await signInWithGoogle();\r\n    } catch (error: any) {\r\n      setLoginError(error.message || 'Failed to sign in with Google');\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logout();\r\n    } catch (error: any) {\r\n      console.error('Logout error:', error);\r\n    }\r\n  };\r\n\r\n  const resetDriverForm = () => {\r\n    setDriverForm({\r\n      name: '',\r\n      phoneNumber: '',\r\n      vehicleNumber: '',\r\n      stageId: '',\r\n      isEmergency: false,\r\n      whatsappNumber: ''\r\n    });\r\n  };\r\n\r\n  const resetStageForm = () => {\r\n    setStageForm({\r\n      name: '',\r\n      nameKn: '',\r\n      latitude: '',\r\n      longitude: ''\r\n    });\r\n  };\r\n\r\n  const handleAddDriver = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (driverForm.name && driverForm.phoneNumber && driverForm.vehicleNumber && driverForm.stageId) {\r\n      setIsSubmitting(true);\r\n      try {\r\n        await addDriver({\r\n          ...driverForm,\r\n          whatsappNumber: driverForm.whatsappNumber || undefined\r\n        });\r\n        resetDriverForm();\r\n        setShowAddForm(false);\r\n      } catch (error) {\r\n        console.error('Error adding driver:', error);\r\n        alert('Failed to add driver. Please try again.');\r\n      } finally {\r\n        setIsSubmitting(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleEditDriver = (driver: Driver) => {\r\n    setEditingItem(driver);\r\n    setDriverForm({\r\n      name: driver.name,\r\n      phoneNumber: driver.phoneNumber,\r\n      vehicleNumber: driver.vehicleNumber,\r\n      stageId: driver.stageId,\r\n      isEmergency: driver.isEmergency,\r\n      whatsappNumber: driver.whatsappNumber || ''\r\n    });\r\n    setShowAddForm(true);\r\n  };\r\n\r\n  const handleUpdateDriver = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (editingItem && 'vehicleNumber' in editingItem) {\r\n      setIsSubmitting(true);\r\n      try {\r\n        await updateDriver(editingItem.id, {\r\n          ...driverForm,\r\n          whatsappNumber: driverForm.whatsappNumber || undefined\r\n        });\r\n        resetDriverForm();\r\n        setShowAddForm(false);\r\n        setEditingItem(null);\r\n      } catch (error) {\r\n        console.error('Error updating driver:', error);\r\n        alert('Failed to update driver. Please try again.');\r\n      } finally {\r\n        setIsSubmitting(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAddStage = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (stageForm.name && stageForm.nameKn) {\r\n      setIsSubmitting(true);\r\n      try {\r\n        await addStage({\r\n          ...stageForm,\r\n          latitude: stageForm.latitude ? parseFloat(stageForm.latitude) : undefined,\r\n          longitude: stageForm.longitude ? parseFloat(stageForm.longitude) : undefined\r\n        });\r\n        resetStageForm();\r\n        setShowAddForm(false);\r\n      } catch (error) {\r\n        console.error('Error adding stage:', error);\r\n        alert('Failed to add stage. Please try again.');\r\n      } finally {\r\n        setIsSubmitting(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleEditStage = (stage: Stage) => {\r\n    setEditingItem(stage);\r\n    setStageForm({\r\n      name: stage.name,\r\n      nameKn: stage.nameKn,\r\n      latitude: stage.latitude?.toString() || '',\r\n      longitude: stage.longitude?.toString() || ''\r\n    });\r\n    setShowAddForm(true);\r\n  };\r\n\r\n  const handleUpdateStage = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (editingItem && 'nameKn' in editingItem) {\r\n      setIsSubmitting(true);\r\n      try {\r\n        await updateStage(editingItem.id, {\r\n          ...stageForm,\r\n          latitude: stageForm.latitude ? parseFloat(stageForm.latitude) : undefined,\r\n          longitude: stageForm.longitude ? parseFloat(stageForm.longitude) : undefined\r\n        });\r\n        resetStageForm();\r\n        setShowAddForm(false);\r\n        setEditingItem(null);\r\n      } catch (error) {\r\n        console.error('Error updating stage:', error);\r\n        alert('Failed to update stage. Please try again.');\r\n      } finally {\r\n        setIsSubmitting(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Debug information\r\n  console.log('AdminPage - currentUser:', currentUser?.email);\r\n  console.log('AdminPage - isAdmin:', isAdmin);\r\n  console.log('AdminPage - drivers count:', drivers.length);\r\n  console.log('AdminPage - stages count:', stages.length);\r\n\r\n  if (!currentUser || !isAdmin) {\r\n    return (\r\n      <div className=\"admin-login\">\r\n        <div className=\"login-container\">\r\n          <div className=\"login-card\">\r\n            <div className=\"login-header\">\r\n              <div className=\"google-icon\">\r\n                <svg width=\"32\" height=\"32\" viewBox=\"0 0 48 48\">\r\n                  <path fill=\"#EA4335\" d=\"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z\"/>\r\n                  <path fill=\"#4285F4\" d=\"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z\"/>\r\n                  <path fill=\"#FBBC05\" d=\"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z\"/>\r\n                  <path fill=\"#34A853\" d=\"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z\"/>\r\n                </svg>\r\n              </div>\r\n              <h1>{t('adminLogin')}</h1>\r\n              <p className=\"login-subtitle\">Authorized administrators only</p>\r\n            </div>\r\n            \r\n            {loginError && (\r\n              <div className=\"error-message\">\r\n                {loginError}\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"login-form\">\r\n              <button \r\n                onClick={handleGoogleSignIn} \r\n                className=\"btn btn-google\"\r\n              >\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 48 48\" style={{marginRight: '12px'}}>\r\n                  <path fill=\"#EA4335\" d=\"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z\"/>\r\n                  <path fill=\"#4285F4\" d=\"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z\"/>\r\n                  <path fill=\"#FBBC05\" d=\"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z\"/>\r\n                  <path fill=\"#34A853\" d=\"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z\"/>\r\n                </svg>\r\n                Sign in with Google\r\n              </button>\r\n              \r\n              <div className=\"login-info\">\r\n                <p>Only authorized Google accounts can access the admin panel.</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <Link to=\"/\" className=\"back-to-home\">\r\n              <ArrowLeft size={16} />\r\n              Back to Home\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-page\">\r\n      <header className=\"admin-header\">\r\n        <div className=\"container\">\r\n          <Link to=\"/\" className=\"back-btn\">\r\n            <ArrowLeft size={20} />\r\n          </Link>\r\n          \r\n          <div className=\"admin-title\">\r\n            <h1>{t('dashboard')}</h1>\r\n            <div className=\"admin-user-info\">\r\n              <img \r\n                src={currentUser?.photoURL || ''} \r\n                alt=\"Admin\" \r\n                className=\"admin-avatar\"\r\n              />\r\n              <span className=\"admin-email\">{currentUser?.email}</span>\r\n              <button \r\n                className=\"admin-logout-button\"\r\n                onClick={handleLogout}\r\n                title=\"Logout\"\r\n              >\r\n                <LogOut size={16} />\r\n                Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <main className=\"admin-content\">\r\n        <div className=\"container\">\r\n          {/* Admin Tabs */}\r\n          <div className=\"admin-tabs\">\r\n            <button \r\n              className={`tab-btn ${activeTab === 'drivers' ? 'active' : ''}`}\r\n              onClick={() => setActiveTab('drivers')}\r\n            >\r\n              <Users size={20} />\r\n              {t('manageDrivers')} ({drivers.length})\r\n            </button>\r\n            <button \r\n              className={`tab-btn ${activeTab === 'stages' ? 'active' : ''}`}\r\n              onClick={() => setActiveTab('stages')}\r\n            >\r\n              <MapPin size={20} />\r\n              {t('manageStages')} ({stages.length})\r\n            </button>\r\n          </div>\r\n\r\n          {/* Add Button */}\r\n          <div className=\"admin-actions\">\r\n            <button \r\n              className=\"btn btn-primary add-btn\"\r\n              onClick={() => {\r\n                setShowAddForm(true);\r\n                setEditingItem(null);\r\n                if (activeTab === 'drivers') resetDriverForm();\r\n                else resetStageForm();\r\n              }}\r\n            >\r\n              <Plus size={18} />\r\n              {activeTab === 'drivers' ? t('addDriver') : t('addStage')}\r\n            </button>\r\n            \r\n            {drivers.length === 0 && stages.length === 0 && (\r\n              <button \r\n                className=\"btn btn-secondary\"\r\n                onClick={async () => {\r\n                  if (window.confirm('Initialize with sample data? This will add demo drivers and stages.')) {\r\n                    try {\r\n                      await initializeSampleData();\r\n                    } catch (error) {\r\n                      console.error('Error initializing sample data:', error);\r\n                      alert('Failed to initialize sample data. Please try again.');\r\n                    }\r\n                  }\r\n                }}\r\n              >\r\n                Initialize Sample Data\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Drivers Tab */}\r\n          {activeTab === 'drivers' && (\r\n            <div className=\"drivers-admin\">\r\n              {drivers.length === 0 ? (\r\n                <div className=\"empty-state\">\r\n                  <Users size={48} />\r\n                  <h3>No Drivers Yet</h3>\r\n                  <p>Click \"Add Driver\" to start adding auto-rickshaw drivers to your system.</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"admin-grid\">\r\n                  {drivers.map((driver) => {\r\n                  const stage = stages.find(s => s.id === driver.stageId);\r\n                  return (\r\n                    <div key={driver.id} className=\"admin-card\">\r\n                      <div className=\"card-header\">\r\n                        <h3>{driver.name}</h3>\r\n                        {driver.isEmergency && (\r\n                          <span className=\"emergency-badge\">Emergency</span>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"card-details\">\r\n                        <p><strong>Phone:</strong> {driver.phoneNumber}</p>\r\n                        <p><strong>Vehicle:</strong> {driver.vehicleNumber}</p>\r\n                        <p><strong>Stage:</strong> {stage?.name || 'Unknown'}</p>\r\n                        {driver.whatsappNumber && (\r\n                          <p><strong>WhatsApp:</strong> {driver.whatsappNumber}</p>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"card-actions\">\r\n                        <button \r\n                          className=\"btn-icon edit\"\r\n                          onClick={() => handleEditDriver(driver)}\r\n                          title=\"Edit Driver\"\r\n                        >\r\n                          <Edit3 size={16} />\r\n                        </button>\r\n                        <button \r\n                          className=\"btn-icon delete\"\r\n                          onClick={async () => {\r\n                            if (window.confirm('Delete this driver?')) {\r\n                              try {\r\n                                await deleteDriver(driver.id);\r\n                              } catch (error) {\r\n                                console.error('Error deleting driver:', error);\r\n                                alert('Failed to delete driver. Please try again.');\r\n                              }\r\n                            }\r\n                          }}\r\n                          title=\"Delete Driver\"\r\n                        >\r\n                          <Trash2 size={16} />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Stages Tab */}\r\n          {activeTab === 'stages' && (\r\n            <div className=\"stages-admin\">\r\n              {stages.length === 0 ? (\r\n                <div className=\"empty-state\">\r\n                  <MapPin size={48} />\r\n                  <h3>No Stages Yet</h3>\r\n                  <p>Click \"Add Stage\" to start adding auto-rickshaw stages to your system.</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"admin-grid\">\r\n                  {stages.map((stage) => {\r\n                  const driverCount = drivers.filter(d => d.stageId === stage.id).length;\r\n                  return (\r\n                    <div key={stage.id} className=\"admin-card\">\r\n                      <div className=\"card-header\">\r\n                        <h3>{stage.name}</h3>\r\n                        <span className=\"driver-count\">{driverCount} drivers</span>\r\n                      </div>\r\n                      \r\n                      <div className=\"card-details\">\r\n                        <p><strong>Kannada:</strong> {stage.nameKn}</p>\r\n                        {stage.latitude && stage.longitude && (\r\n                          <p><strong>Coordinates:</strong> {stage.latitude}, {stage.longitude}</p>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"card-actions\">\r\n                        <button \r\n                          className=\"btn-icon edit\"\r\n                          onClick={() => handleEditStage(stage)}\r\n                          title=\"Edit Stage\"\r\n                        >\r\n                          <Edit3 size={16} />\r\n                        </button>\r\n                        <button \r\n                          className=\"btn-icon delete\"\r\n                          onClick={async () => {\r\n                            if (window.confirm('Delete this stage and all its drivers?')) {\r\n                              try {\r\n                                await deleteStage(stage.id);\r\n                              } catch (error) {\r\n                                console.error('Error deleting stage:', error);\r\n                                alert('Failed to delete stage. Please try again.');\r\n                              }\r\n                            }\r\n                          }}\r\n                          title=\"Delete Stage\"\r\n                        >\r\n                          <Trash2 size={16} />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Add/Edit Form Modal */}\r\n          {showAddForm && (\r\n            <div className=\"modal-overlay\">\r\n              <div className=\"modal\">\r\n                <div className=\"modal-header\">\r\n                  <h3>\r\n                    {editingItem ? 'Edit' : 'Add'} {activeTab === 'drivers' ? 'Driver' : 'Stage'}\r\n                  </h3>\r\n                  <button \r\n                    className=\"close-btn\"\r\n                    onClick={() => {\r\n                      setShowAddForm(false);\r\n                      setEditingItem(null);\r\n                    }}\r\n                  >\r\n                    Ã—\r\n                  </button>\r\n                </div>\r\n                \r\n                {activeTab === 'drivers' ? (\r\n                  <form onSubmit={editingItem ? handleUpdateDriver : handleAddDriver}>\r\n                    <div className=\"form-group\">\r\n                      <label>Driver Name *</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={driverForm.name}\r\n                        onChange={(e) => setDriverForm({...driverForm, name: e.target.value})}\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label>Phone Number *</label>\r\n                      <input\r\n                        type=\"tel\"\r\n                        value={driverForm.phoneNumber}\r\n                        onChange={(e) => setDriverForm({...driverForm, phoneNumber: e.target.value})}\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label>WhatsApp Number</label>\r\n                      <input\r\n                        type=\"tel\"\r\n                        value={driverForm.whatsappNumber}\r\n                        onChange={(e) => setDriverForm({...driverForm, whatsappNumber: e.target.value})}\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label>Vehicle Number *</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={driverForm.vehicleNumber}\r\n                        onChange={(e) => setDriverForm({...driverForm, vehicleNumber: e.target.value})}\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label>Stage *</label>\r\n                      <select\r\n                        value={driverForm.stageId}\r\n                        onChange={(e) => setDriverForm({...driverForm, stageId: e.target.value})}\r\n                        required\r\n                      >\r\n                        <option value=\"\">Select Stage</option>\r\n                        {stages.map((stage) => (\r\n                          <option key={stage.id} value={stage.id}>\r\n                            {stage.name}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group checkbox-group\">\r\n                      <label>\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={driverForm.isEmergency}\r\n                          onChange={(e) => setDriverForm({...driverForm, isEmergency: e.target.checked})}\r\n                        />\r\n                        Emergency Driver (Available 24/7)\r\n                      </label>\r\n                    </div>\r\n                    \r\n                    <div className=\"form-actions\">\r\n                      <button type=\"submit\" className=\"btn btn-primary\" disabled={isSubmitting}>\r\n                        {isSubmitting ? 'Saving...' : `${editingItem ? 'Update' : 'Add'} Driver`}\r\n                      </button>\r\n                      <button \r\n                        type=\"button\" \r\n                        className=\"btn btn-secondary\"\r\n                        onClick={() => {\r\n                          setShowAddForm(false);\r\n                          setEditingItem(null);\r\n                        }}\r\n                        disabled={isSubmitting}\r\n                      >\r\n                        Cancel\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                ) : (\r\n                  <form onSubmit={editingItem ? handleUpdateStage : handleAddStage}>\r\n                    <div className=\"form-group\">\r\n                      <label>Stage Name (English) *</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={stageForm.name}\r\n                        onChange={(e) => setStageForm({...stageForm, name: e.target.value})}\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label>Stage Name (Kannada) *</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={stageForm.nameKn}\r\n                        onChange={(e) => setStageForm({...stageForm, nameKn: e.target.value})}\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label>Latitude (Optional)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        step=\"any\"\r\n                        value={stageForm.latitude}\r\n                        onChange={(e) => setStageForm({...stageForm, latitude: e.target.value})}\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                      <label>Longitude (Optional)</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        step=\"any\"\r\n                        value={stageForm.longitude}\r\n                        onChange={(e) => setStageForm({...stageForm, longitude: e.target.value})}\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-actions\">\r\n                      <button type=\"submit\" className=\"btn btn-primary\" disabled={isSubmitting}>\r\n                        {isSubmitting ? 'Saving...' : `${editingItem ? 'Update' : 'Add'} Stage`}\r\n                      </button>\r\n                      <button \r\n                        type=\"button\" \r\n                        className=\"btn btn-secondary\"\r\n                        onClick={() => {\r\n                          setShowAddForm(false);\r\n                          setEditingItem(null);\r\n                        }}\r\n                        disabled={isSubmitting}\r\n                      >\r\n                        Cancel\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}